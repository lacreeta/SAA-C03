# Amazon S3 (Simple Storage Service)

## Qu√© es S3
Servicio de **object storage** altamente duradero, escalable y gestionado, usado para almacenar y recuperar cualquier cantidad de datos desde cualquier lugar.

S3 **NO es**:
- Un sistema de archivos
- Un servicio de c√≥mputo
- Un servicio de block storage

S3 **S√ç es**:
- Object storage
- Acceso v√≠a HTTP/HTTPS
- Base de muchas arquitecturas en AWS

---

## Alcance y arquitectura
- S3 es **REGIONAL**
- Los objetos se almacenan de forma redundante en **m√∫ltiples AZs**
- Durabilidad: **99.999999999% (11 nueves)**

**Implicaci√≥n de examen**:
- No eliges AZ
- No gestionas replicaci√≥n interna
- Ideal para alta durabilidad sin preocuparte de infraestructura

---

## Componentes principales

### Bucket
- Contenedor l√≥gico de objetos
- Nombre **√∫nico global**
- Vive en **una regi√≥n**
- Configuraci√≥n a nivel de bucket:
  - Versioning
  - Lifecycle
  - Policies
  - Block Public Access

### Object
- Archivo + metadata
- Identificado por:
  - Bucket name
  - Object key
- Tama√±o: 0 bytes ‚Üí 5 TB

---

## Clases de almacenamiento (MUY IMPORTANTE EXAMEN)

### S3 Standard
- Uso frecuente
- Baja latencia
- Alto coste
- Casos:
  - Contenido activo
  - Webs
  - Datos de aplicaciones

### S3 Standard-IA
- Uso infrecuente
- M√°s barato
- Coste de recuperaci√≥n
- Casos:
  - Backups
  - Datos accedidos ocasionalmente

### S3 One Zone-IA
- Datos en **una sola AZ**
- M√°s barato
- Menor disponibilidad
- Casos:
  - Datos reproducibles
  - No cr√≠ticos

### S3 Glacier
- Archivado
- Acceso en minutos u horas
- Muy barato
- Casos:
  - Compliance
  - Archivado a largo plazo

### S3 Glacier Deep Archive
- Acceso en horas (12h)
- Extremadamente barato
- Casos:
  - Datos que casi nunca se recuperan

---

## Seguridad en S3 (clave para el examen)

### Block Public Access
- Protecci√≥n a nivel de bucket y cuenta
- Bloquea configuraciones p√∫blicas accidentales

**Trampa de examen**:
Aunque una bucket policy permita acceso p√∫blico, **Block Public Access puede bloquearlo**.

---

### IAM Policy vs Bucket Policy

#### IAM Policy
- Identity-based
- Se asocia a:
  - Usuarios
  - Grupos
  - Roles

#### Bucket Policy
- Resource-based
- Se asocia al bucket
- Controla qui√©n accede al bucket

üìå **Regla mental examen**:
- Usuario accede a S3 ‚Üí IAM Policy
- Bucket se protege a s√≠ mismo ‚Üí Bucket Policy

---

### ACLs
- M√©todo antiguo
- Poco usado
- AWS recomienda **NO usarlas**
- Solo saber que existen

---

## Versioning

- Permite m√∫ltiples versiones del mismo objeto
- Protege contra:
  - Borrados accidentales
  - Sobrescrituras

**Trampa de examen**:
- Borrar un objeto versionado ‚Üí crea un *delete marker*
- Para borrar definitivamente necesitas borrar todas las versiones

---

## Lifecycle Rules

Permiten automatizar:
- Cambio de storage class
- Eliminaci√≥n de objetos

Ejemplos:
- Standard ‚Üí IA ‚Üí Glacier
- Borrar objetos tras X d√≠as

üìå Muy com√∫n en preguntas de **optimizaci√≥n de costes**.

---

## Static Website Hosting

- S3 puede servir webs est√°ticas
- No backend
- Acceso v√≠a HTTP
- Muy barato

Casos:
- Landing pages
- Documentaci√≥n
- Webs simples

---

## Casos t√≠picos de examen

- Almacenamiento barato y duradero ‚Üí S3
- Backup a largo plazo ‚Üí S3 + Glacier
- Web est√°tica sin servidores ‚Üí S3
- Alta disponibilidad sin gestionar infra ‚Üí S3
- Optimizaci√≥n de costes ‚Üí Lifecycle + IA / Glacier

---

## Trampas de examen

- S3 NO es una base de datos
- S3 NO vive en una AZ
- Block Public Access puede anular policies
- One Zone-IA NO es multi-AZ
- Glacier NO es para acceso frecuente

---

## Relaci√≥n con otros servicios

| Servicio | Uso con S3 |
|-------|-----------|
| EC2 | Almacenar datos |
| IAM | Control de acceso |
| CloudFront | Distribuci√≥n global |
| Glacier | Archivado |
| Lambda | Procesamiento de eventos |

---

## Resumen mental para el examen
S3 = durabilidad + escalabilidad + bajo mantenimiento  
Ideal cuando no quieres gestionar infraestructura.

## Laboratorio
üëâ [S3 ‚Äî Laboratorio](s3-lab.md)